import{t as r,a,c as e}from"./BlOzt52k.js";import{p as s,c as t,s as i,r as o,t as c,a as l,f as d,A as n,U as g}from"./CB4773J8.js";import{h as m}from"./BIwTS0R5.js";import{p as f,b as h,i as p}from"./Bi3vnJHl.js";import{b as A,a as u,c as v,s as w,d as b,e as y,i as L}from"./Dqukw7I3.js";import{i as j}from"./85JlGID_.js";import{e as E}from"./CRJHxDTX.js";import{o as I}from"./C9ZuM4wW.js";let $;let x,z;"undefined"!=typeof window&&($="loading"in HTMLImageElement.prototype,$||new IntersectionObserver(((r,a)=>{r.forEach((({isIntersecting:r,target:e})=>{var s;r&&((s=e).src=s.dataset.src,s.srcset=s.dataset.srcset,s.dataset.loaded=!0,a.unobserve(e))}))}),{rootMargin:"200px 200px"}));const M=r=>{const a=r.querySelector("img");a.src=a.dataset.src;r.querySelectorAll("source").forEach((r=>r.srcset=r.dataset.srcset)),r.dataset.loaded=!0};"undefined"!=typeof window&&(x="loading"in HTMLImageElement.prototype,x||(z=new IntersectionObserver(((r,a)=>{r.forEach((({isIntersecting:r,target:e})=>{r&&(M(e),a.unobserve(e))}))}),{rootMargin:"200px 200px"})));var U=r('<picture data-loaded="false"><!> <img></picture>');var q=r('<link rel="preload" as="image" imagesizes="100vw">'),J=r("<source>"),O=r("<div></div>");function S(r,$){s($,!0);const S=g((()=>$.srcList&&Array.isArray($.srcList)?($.srcList.filter((r=>"webp"==r.format)).length>0?$.srcList.filter((r=>"webp"==r.format)):$.srcList).sort(((r,a)=>r.width-a.width))[0]:$.srcList?$.srcList:null)),k=g((()=>($.srcList&&Array.isArray($.srcList)?$.srcList.sort(((r,a)=>r.width-a.width)):$.srcList?[$.srcList]:[]).map((r=>({...r,media:`(min-width: ${r.width+1}px)`})))));var B=e();m((r=>{var s=e(),t=d(s),i=r=>{var e=q();c(((r,a)=>{w(e,"href",n(S).src),w(e,"imagesrcset",r),w(e,"data-srcset",a),w(e,"data-image-prefetch-ref",$.alt)}),[()=>n(k).map((r=>`${r.src} ${r.width}w`)).join(", "),()=>n(k).map((r=>r.src)).join(", ")]),a(r,e)};p(t,(r=>{n(S)&&$.forceLoad&&r(i)})),a(r,s)}));var H=d(B),R=r=>{const m=g((()=>$.forceLoad?"eager":"lazy"));!function(r,e){s(e,!1);let d=f(e,"loading",8,"lazy"),n=f(e,"alt",8,""),g=f(e,"placeholder",8,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8+fOvJAAI7AMKHxaZiQAAAABJRU5ErkJggg=="),m=f(e,"src",24,g),p=f(e,"draggable",8,!0),y=f(e,"decoding",8,"async"),L=f(e,"classes",8,""),$=f(e,"width",8,"100%"),q=f(e,"height",8,"100%"),J=f(e,"el",12,void 0);I((()=>{x?M(J()):z&&"lazy"===d()&&z.observe(J())})),j();var O=U(),S=t(O);A(S,e,"default",{},null);var k=i(S,2);o(O),h(O,(r=>J(r)),(()=>J())),c((()=>{u(O,1,v(L()),"svelte-1quqpl1"),w(k,"src","lazy"===d()?g():m()),w(k,"alt",n()),w(k,"height",q()),w(k,"width",$()),w(k,"loading",d()),w(k,"decoding",y()),w(k,"draggable",p()),w(k,"data-src",m())})),E("load",k,(function(r){b.call(this,e,r)})),a(r,O),l()}(r,{get classes(){return`children:h-full children:w-full children:object-cover ${$.class??""}`},get loading(){return n(m)},get alt(){return $.alt},get height(){return $.height},get width(){return $.width},children:(r,s)=>{var t=e(),i=d(t);y(i,17,(()=>n(k)),L,((r,e)=>{var s=J();c((()=>{w(s,"data-srcset",n(e).src),w(s,"media",n(e).media),w(s,"type",`image/${n(e).format??""}`)})),a(r,s)})),a(r,t)},$$slots:{default:!0}})},K=r=>{var e=O();c((()=>u(e,1,`bg-dark-100 children:h-full children:w-full children:object-cover ${$.class??""}`))),a(r,e)};p(H,(r=>{n(S)?r(R):r(K,!1)})),a(r,B),l()}export{S as I};