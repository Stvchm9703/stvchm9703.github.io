import{N as e,O as a,P as t,Q as r,R as s,k as n,j as o,d as i,o as d,T as v,V as c,W as l,X as u,Y as f,Z as p,_ as h,z as m,h as _,p as g,x as w,$ as j,a as y}from"./BW5koCBL.js";import{a as E,r as L,h as x,i as T,b as V}from"./CpoJfXHF.js";import{c as $}from"./B5aJA00E.js";function b(e,a){var t=null==a?"":"object"==typeof a?a+"":a;t!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=t,e.nodeValue=t+"")}function k(e,a){return N(e,a)}function C(f,p){e(),p.intro=p.intro??!1;const h=p.target,m=_,g=d;try{for(var w=a(h);w&&(8!==w.nodeType||w.data!==t);)w=r(w);if(!w)throw s;n(!0),o(w),i();const e=N(f,{...p,anchor:w});if(null===d||8!==d.nodeType||d.data!==v)throw c(),s;return n(!1),e}catch(j){if(j===s)return!1===p.recover&&l(),e(),u(h),n(!1),k(f,p);throw j}finally{n(m),o(g),V()}}const M=new Map;function N(a,{target:t,anchor:r,props:s={},events:n,context:o,intro:i=!0}){e();var v=new Set,c=e=>{for(var a=0;a<e.length;a++){var r=e[a];if(!v.has(r)){v.add(r);var s=T(r);t.addEventListener(r,x,{passive:s});var n=M.get(r);void 0===n?(document.addEventListener(r,x,{passive:s}),M.set(r,1)):M.set(r,n+1)}}};c(f(E)),L.add(c);var l=void 0,u=p((()=>{var e=r??t.appendChild(h());return m((()=>{o&&(g({}),w.c=o);n&&(s.$$events=n),_&&$(e,null),l=a(e,s)||{},_&&(j.nodes_end=d),o&&y()})),()=>{var a;for(var s of v){t.removeEventListener(s,x);var n=M.get(s);0==--n?(document.removeEventListener(s,x),M.delete(s)):M.set(s,n)}L.delete(c),e!==r&&(null==(a=e.parentNode)||a.removeChild(e))}}));return P.set(l,u),l}let P=new WeakMap;function W(e,a){const t=P.get(e);return t?(P.delete(e),t(a)):Promise.resolve()}export{C as h,k as m,b as s,W as u};