import{a as t,g as e,h as r,i as s,m as i,o as n,p as o,v as a}from"./DpNvj5Pq.js";import{r as h}from"./DjcG7vjH.js";import{r as u}from"./CMTaJZVU.js";import{n as c,t as d}from"./DjeGJqCU.js";import{F as l,G as _,H as p,I as f,K as b,L as v,M as g,N as j,P as m,V as y,j as w,z as O}from"./DyQHLcRc.js";import{C,_ as E,f as N,g as A,h as L,i as D,m as P,n as F,p as M,r as S,t as x,x as I}from"./C9eVgXL7.js";var U=function(t,e){return t&&y(e,I(e),t)};var G=function(t,e){return t&&y(e,v(e),t)};var B=function(t,e){return y(t,P(t),e)},V=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)E(e,P(t)),t=f(t);return e}:L;var k=function(t,e){return y(t,V(t),e)};var z=function(t){return M(t,v,V)},R=Object.prototype.hasOwnProperty;var H=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&R.call(t,"index")&&(r.index=t.index,r.input=t.input),r};var K=function(t,e){var r=e?m(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},Q=/\w*$/;var W=function(t){var e=new t.constructor(t.source,Q.exec(t));return e.lastIndex=t.lastIndex,e},$=a?a.prototype:void 0,q=$?$.valueOf:void 0;var J=function(t){return q?Object(q.call(t)):{}};var T=function(t,e,r){var s=t.constructor;switch(e){case"[object ArrayBuffer]":return m(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return K(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return j(t,r);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return W(t);case"[object Symbol]":return J(t)}};var X=function(t){return e(t)&&"[object Map]"==c(t)},Y=s&&s.isMap,Z=Y?t(Y):X;var tt=function(t){return e(t)&&"[object Set]"==c(t)},et=s&&s.isSet,rt=et?t(et):tt,st="[object Arguments]",it="[object Function]",nt="[object Object]",ot={};ot[st]=ot["[object Array]"]=ot["[object ArrayBuffer]"]=ot["[object DataView]"]=ot["[object Boolean]"]=ot["[object Date]"]=ot["[object Float32Array]"]=ot["[object Float64Array]"]=ot["[object Int8Array]"]=ot["[object Int16Array]"]=ot["[object Int32Array]"]=ot["[object Map]"]=ot["[object Number]"]=ot[nt]=ot["[object RegExp]"]=ot["[object Set]"]=ot["[object String]"]=ot["[object Symbol]"]=ot["[object Uint8Array]"]=ot["[object Uint8ClampedArray]"]=ot["[object Uint16Array]"]=ot["[object Uint32Array]"]=!0,ot["[object Error]"]=ot[it]=ot["[object WeakMap]"]=!1;var at=function t(e,s,o,a,h,d){var _,f=1&s,j=2&s,m=4&s;if(o&&(_=h?o(e,a,h,d):o(e)),void 0!==_)return _;if(!i(e))return e;var y=r(e);if(y){if(_=H(e),!f)return b(e,_)}else{var w=c(e),O=w==it||"[object GeneratorFunction]"==w;if(n(e))return l(e,f);if(w==nt||w==st||O&&!h){if(_=j||O?{}:g(e),!f)return j?k(e,G(_,e)):B(e,U(_,e))}else{if(!ot[w])return h?e:{};_=T(e,w,f)}}d||(d=new u);var E=d.get(e);if(E)return E;d.set(e,_),rt(e)?e.forEach(function(r){_.add(t(r,s,o,r,e,d))}):Z(e)&&e.forEach(function(r,i){_.set(i,t(r,s,o,i,e,d))});var A=y?void 0:(m?j?z:N:j?v:I)(e);return C(A||e,function(r,i){A&&(r=e[i=r]),p(_,i,t(r,s,o,i,e,d))}),_};var ht=function(t,e){return h(e,function(e){return t[e]})};var ut=function(t){return null==t?[]:ht(t,I(t))};var ct=function(t){return void 0===t},dt=O(function(t){return x(A(t,1,w,!0))}),lt="\0",_t=class{constructor(t={}){this._isDirected=!Object.prototype.hasOwnProperty.call(t,"directed")||t.directed,this._isMultigraph=!!Object.prototype.hasOwnProperty.call(t,"multigraph")&&t.multigraph,this._isCompound=!!Object.prototype.hasOwnProperty.call(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=_(void 0),this._defaultEdgeLabelFn=_(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[lt]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return o(t)||(t=_(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return I(this._nodes)}sources(){var t=this;return S(this.nodes(),function(e){return d(t._in[e])})}sinks(){var t=this;return S(this.nodes(),function(e){return d(t._out[e])})}setNodes(t,e){var r=arguments,s=this;return D(t,function(t){r.length>1?s.setNode(t,e):s.setNode(t)}),this}setNode(t,e){return Object.prototype.hasOwnProperty.call(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=lt,this._children[t]={},this._children[lt][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return Object.prototype.hasOwnProperty.call(this._nodes,t)}removeNode(t){if(Object.prototype.hasOwnProperty.call(this._nodes,t)){var e=t=>this.removeEdge(this._edgeObjs[t]);delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],D(this.children(t),t=>{this.setParent(t)}),delete this._children[t]),D(I(this._in[t]),e),delete this._in[t],delete this._preds[t],D(I(this._out[t]),e),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(ct(e))e=lt;else{for(var r=e+="";!ct(r);r=this.parent(r))if(r===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var e=this._parent[t];if(e!==lt)return e}}children(t){if(ct(t)&&(t=lt),this._isCompound){var e=this._children[t];if(e)return I(e)}else{if(t===lt)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var e=this._preds[t];if(e)return I(e)}successors(t){var e=this._sucs[t];if(e)return I(e)}neighbors(t){var e=this.predecessors(t);if(e)return dt(e,this.successors(t))}isLeaf(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length}filterNodes(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var r=this;D(this._nodes,function(r,s){t(s)&&e.setNode(s,r)}),D(this._edgeObjs,function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,r.edge(t))});var s={};function i(t){var n=r.parent(t);return void 0===n||e.hasNode(n)?(s[t]=n,n):n in s?s[n]:i(n)}return this._isCompound&&D(e.nodes(),function(t){e.setParent(t,i(t))}),e}setDefaultEdgeLabel(t){return o(t)||(t=_(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return ut(this._edgeObjs)}setPath(t,e){var r=this,s=arguments;return F(t,function(t,i){return s.length>1?r.setEdge(t,i,e):r.setEdge(t,i),i}),this}setEdge(){var t,e,r,s,i=!1,n=arguments[0];"object"==typeof n&&null!==n&&"v"in n?(t=n.v,e=n.w,r=n.name,2===arguments.length&&(s=arguments[1],i=!0)):(t=n,e=arguments[1],r=arguments[3],arguments.length>2&&(s=arguments[2],i=!0)),t=""+t,e=""+e,ct(r)||(r=""+r);var o=bt(this._isDirected,t,e,r);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,o))return i&&(this._edgeLabels[o]=s),this;if(!ct(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[o]=i?s:this._defaultEdgeLabelFn(t,e,r);var a=function(t,e,r,s){var i=""+e,n=""+r;if(!t&&i>n){var o=i;i=n,n=o}var a={v:i,w:n};s&&(a.name=s);return a}(this._isDirected,t,e,r);return t=a.v,e=a.w,Object.freeze(a),this._edgeObjs[o]=a,pt(this._preds[e],t),pt(this._sucs[t],e),this._in[e][o]=a,this._out[t][o]=a,this._edgeCount++,this}edge(t,e,r){var s=1===arguments.length?vt(this._isDirected,arguments[0]):bt(this._isDirected,t,e,r);return this._edgeLabels[s]}hasEdge(t,e,r){var s=1===arguments.length?vt(this._isDirected,arguments[0]):bt(this._isDirected,t,e,r);return Object.prototype.hasOwnProperty.call(this._edgeLabels,s)}removeEdge(t,e,r){var s=1===arguments.length?vt(this._isDirected,arguments[0]):bt(this._isDirected,t,e,r),i=this._edgeObjs[s];return i&&(t=i.v,e=i.w,delete this._edgeLabels[s],delete this._edgeObjs[s],ft(this._preds[e],t),ft(this._sucs[t],e),delete this._in[e][s],delete this._out[t][s],this._edgeCount--),this}inEdges(t,e){var r=this._in[t];if(r){var s=ut(r);return e?S(s,function(t){return t.v===e}):s}}outEdges(t,e){var r=this._out[t];if(r){var s=ut(r);return e?S(s,function(t){return t.w===e}):s}}nodeEdges(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))}};function pt(t,e){t[e]?t[e]++:t[e]=1}function ft(t,e){--t[e]||delete t[e]}function bt(t,e,r,s){var i=""+e,n=""+r;if(!t&&i>n){var o=i;i=n,n=o}return i+""+n+""+(ct(s)?"\0":s)}function vt(t,e){return bt(t,e.v,e.w,e.name)}_t.prototype._nodeCount=0,_t.prototype._edgeCount=0;export{at as i,ct as n,ut as r,_t as t};