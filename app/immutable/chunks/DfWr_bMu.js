import{n,t}from"./CO7NjjwJ.js";import{a as e,c as r,d as c,f as a,i as u,l as i,n as o,o as y,p as l,r as f,s,t as p,u as x}from"./CLEiZXIm.js";function h(n){return n.innerRadius}function v(n){return n.outerRadius}function g(n){return n.startAngle}function d(n){return n.endAngle}function m(n){return n&&n.padAngle}function T(n,t,e,c,u,i,o){var y=n-e,l=t-c,f=(o?i:-i)/a(y*y+l*l),s=f*l,p=-f*y,x=n+s,h=t+p,v=e+s,g=c+p,d=(x+v)/2,m=(h+g)/2,T=v-x,A=g-h,R=T*T+A*A,j=u-i,P=x*g-v*h,b=(A<0?-1:1)*a(r(0,j*j*R-P*P)),k=(P*A-T*b)/R,q=(-P*T-A*b)/R,w=(P*A+T*b)/R,z=(-P*T+A*b)/R,B=k-d,C=q-m,D=w-d,E=z-m;return B*B+C*C>D*D+E*E&&(k=w,q=z),{cx:k,cy:q,x01:-s,y01:-p,x11:k*(u/j-1),y11:q*(u/j-1)}}function A(){var r=h,y=v,A=n(0),R=null,j=g,P=d,b=m,k=null,q=t(w);function w(){var n,t,h=+r.apply(this,arguments),v=+y.apply(this,arguments),g=j.apply(this,arguments)-s,d=P.apply(this,arguments)-s,m=p(d-g),w=d>g;if(k||(k=n=q()),v<h&&(t=v,v=h,h=t),v>1e-12)if(m>l-1e-12)k.moveTo(v*e(g),v*c(g)),k.arc(0,0,v,g,d,!w),h>1e-12&&(k.moveTo(h*e(d),h*c(d)),k.arc(0,0,h,d,g,w));else{var z,B,C=g,D=d,E=g,F=d,G=m,H=m,I=b.apply(this,arguments)/2,J=I>1e-12&&(R?+R.apply(this,arguments):a(h*h+v*v)),K=i(p(v-h)/2,+A.apply(this,arguments)),L=K,M=K;if(J>1e-12){var N=f(J/h*c(I)),O=f(J/v*c(I));(G-=2*N)>1e-12?(E+=N*=w?1:-1,F-=N):(G=0,E=F=(g+d)/2),(H-=2*O)>1e-12?(C+=O*=w?1:-1,D-=O):(H=0,C=D=(g+d)/2)}var Q=v*e(C),S=v*c(C),U=h*e(F),V=h*c(F);if(K>1e-12){var W,X=v*e(D),Y=v*c(D),Z=h*e(E),$=h*c(E);if(m<x)if(W=function(n,t,e,r,c,a,u,i){var o=e-n,y=r-t,l=u-c,f=i-a,s=f*o-l*y;if(!(s*s<1e-12))return[n+(s=(l*(t-a)-f*(n-c))/s)*o,t+s*y]}(Q,S,Z,$,X,Y,U,V)){var _=Q-W[0],nn=S-W[1],tn=X-W[0],en=Y-W[1],rn=1/c(o((_*tn+nn*en)/(a(_*_+nn*nn)*a(tn*tn+en*en)))/2),cn=a(W[0]*W[0]+W[1]*W[1]);L=i(K,(h-cn)/(rn-1)),M=i(K,(v-cn)/(rn+1))}else L=M=0}H>1e-12?M>1e-12?(z=T(Z,$,Q,S,v,M,w),B=T(X,Y,U,V,v,M,w),k.moveTo(z.cx+z.x01,z.cy+z.y01),M<K?k.arc(z.cx,z.cy,M,u(z.y01,z.x01),u(B.y01,B.x01),!w):(k.arc(z.cx,z.cy,M,u(z.y01,z.x01),u(z.y11,z.x11),!w),k.arc(0,0,v,u(z.cy+z.y11,z.cx+z.x11),u(B.cy+B.y11,B.cx+B.x11),!w),k.arc(B.cx,B.cy,M,u(B.y11,B.x11),u(B.y01,B.x01),!w))):(k.moveTo(Q,S),k.arc(0,0,v,C,D,!w)):k.moveTo(Q,S),h>1e-12&&G>1e-12?L>1e-12?(z=T(U,V,X,Y,h,-L,w),B=T(Q,S,Z,$,h,-L,w),k.lineTo(z.cx+z.x01,z.cy+z.y01),L<K?k.arc(z.cx,z.cy,L,u(z.y01,z.x01),u(B.y01,B.x01),!w):(k.arc(z.cx,z.cy,L,u(z.y01,z.x01),u(z.y11,z.x11),!w),k.arc(0,0,h,u(z.cy+z.y11,z.cx+z.x11),u(B.cy+B.y11,B.cx+B.x11),w),k.arc(B.cx,B.cy,L,u(B.y11,B.x11),u(B.y01,B.x01),!w))):k.arc(0,0,h,F,E,w):k.lineTo(U,V)}else k.moveTo(0,0);if(k.closePath(),n)return k=null,n+""||null}return w.centroid=function(){var n=(+r.apply(this,arguments)+ +y.apply(this,arguments))/2,t=(+j.apply(this,arguments)+ +P.apply(this,arguments))/2-x/2;return[e(t)*n,c(t)*n]},w.innerRadius=function(t){return arguments.length?(r="function"==typeof t?t:n(+t),w):r},w.outerRadius=function(t){return arguments.length?(y="function"==typeof t?t:n(+t),w):y},w.cornerRadius=function(t){return arguments.length?(A="function"==typeof t?t:n(+t),w):A},w.padRadius=function(t){return arguments.length?(R=null==t?null:"function"==typeof t?t:n(+t),w):R},w.startAngle=function(t){return arguments.length?(j="function"==typeof t?t:n(+t),w):j},w.endAngle=function(t){return arguments.length?(P="function"==typeof t?t:n(+t),w):P},w.padAngle=function(t){return arguments.length?(b="function"==typeof t?t:n(+t),w):b},w.context=function(n){return arguments.length?(k=null==n?null:n,w):k},w}export{A as t};