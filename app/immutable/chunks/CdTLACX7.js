import{l as n,n as t,o as r,r as e,t as a}from"./zHg7iTkV.js";import{i as u,n as o,r as i,t as f}from"./C-0C0Ryu.js";import{t as c}from"./JvgC3iiL.js";function l(n,t){return null==n||null==t?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function s(n,t){return null==n||null==t?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function h(n){let t,r,e;function a(n,e,a=0,u=n.length){if(a<u){if(0!==t(e,e))return u;do{const t=a+u>>>1;r(n[t],e)<0?a=t+1:u=t}while(a<u)}return a}return 2!==n.length?(t=l,r=(t,r)=>l(n(t),r),e=(t,r)=>n(t)-r):(t=n===l||n===s?n:M,r=n,e=n),{left:a,center:function(n,t,r=0,u=n.length){const o=a(n,t,r,u-1);return o>r&&e(n[o-1],t)>-e(n[o],t)?o-1:o},right:function(n,e,a=0,u=n.length){if(a<u){if(0!==t(e,e))return u;do{const t=a+u>>>1;r(n[t],e)<=0?a=t+1:u=t}while(a<u)}return a}}}function M(){return 0}var m=h(l);const p=m.right;m.left,h(function(n){return null===n?NaN:+n}).center;var g=p,v=Math.sqrt(50),N=Math.sqrt(10),y=Math.sqrt(2);function w(n,t,r){const e=(t-n)/Math.max(0,r),a=Math.floor(Math.log10(e)),u=e/Math.pow(10,a),o=u>=v?10:u>=N?5:u>=y?2:1;let i,f,c;return a<0?(c=Math.pow(10,-a)/o,i=Math.round(n*c),f=Math.round(t*c),i/c<n&&++i,f/c>t&&--f,c=-c):(c=Math.pow(10,a)*o,i=Math.round(n/c),f=Math.round(t/c),i*c<n&&++i,f*c>t&&--f),f<i&&.5<=r&&r<2?w(n,t,2*r):[i,f,c]}function b(n,t,r){return w(n=+n,t=+t,r=+r)[2]}function d(n,t,r){r=+r;const e=(t=+t)<(n=+n),a=e?b(t,n,r):b(n,t,r);return(e?-1:1)*(a<0?1/-a:a)}function A(n,t){t||(t=[]);var r,e=n?Math.min(t.length,n.length):0,a=t.slice();return function(u){for(r=0;r<e;++r)a[r]=n[r]*(1-u)+t[r]*u;return a}}function x(n,t){var r,e=t?t.length:0,a=n?Math.min(e,n.length):0,u=new Array(a),o=new Array(e);for(r=0;r<a;++r)u[r]=q(n[r],t[r]);for(;r<e;++r)o[r]=t[r];return function(n){for(r=0;r<a;++r)o[r]=u[r](n);return o}}function k(n,t){var r=new Date;return n=+n,t=+t,function(e){return r.setTime(n*(1-e)+t*e),r}}function j(n,t){var r,e={},a={};for(r in null!==n&&"object"==typeof n||(n={}),null!==t&&"object"==typeof t||(t={}),t)r in n?e[r]=q(n[r],t[r]):a[r]=t[r];return function(n){for(r in e)a[r]=e[r](n);return a}}function q(u,o){var i,f,c=typeof o;return null==o||"boolean"===c?r(o):("number"===c?t:"string"===c?(i=n(o))?(o=i,e):a:o instanceof n?e:o instanceof Date?k:(f=o,!ArrayBuffer.isView(f)||f instanceof DataView?Array.isArray(o)?x:"function"!=typeof o.valueOf&&"function"!=typeof o.toString||isNaN(o)?j:t:A))(u,o)}function D(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function V(n){return+n}var B=[0,1];function F(n){return n}function O(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function R(n,t,r){var e=n[0],a=n[1],u=t[0],o=t[1];return a<e?(e=O(a,e),u=r(o,u)):(e=O(e,a),u=r(u,o)),function(n){return u(e(n))}}function S(n,t,r){var e=Math.min(n.length,t.length)-1,a=new Array(e),u=new Array(e),o=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<e;)a[o]=O(n[o],n[o+1]),u[o]=r(t[o],t[o+1]);return function(t){var r=g(n,t,1,e)-1;return u[r](a[r](t))}}function T(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Y(){var n,r,e,a,u,o,i=B,f=B,c=q,l=F;function s(){var n,t,r,e=Math.min(i.length,f.length);return l!==F&&(n=i[0],t=i[e-1],n>t&&(r=n,n=t,t=r),l=function(r){return Math.max(n,Math.min(t,r))}),a=e>2?S:R,u=o=null,h}function h(t){return null==t||isNaN(t=+t)?e:(u||(u=a(i.map(n),f,c)))(n(l(t)))}return h.invert=function(e){return l(r((o||(o=a(f,i.map(n),t)))(e)))},h.domain=function(n){return arguments.length?(i=Array.from(n,V),s()):i.slice()},h.range=function(n){return arguments.length?(f=Array.from(n),s()):f.slice()},h.rangeRound=function(n){return f=Array.from(n),c=D,s()},h.clamp=function(n){return arguments.length?(l=!!n||F,s()):l!==F},h.interpolate=function(n){return arguments.length?(c=n,s()):c},h.unknown=function(n){return arguments.length?(e=n,h):e},function(t,e){return n=t,r=e,s()}}function z(){return Y()(F,F)}function C(n,t,r,e){var a,c=d(n,t,r);switch((e=i(null==e?",f":e)).type){case"s":var l=Math.max(Math.abs(n),Math.abs(t));return null!=e.precision||isNaN(a=function(n,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(u(t)/3)))-u(Math.abs(n)))}(c,l))||(e.precision=a),o(e,l);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(a=function(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,u(t)-u(n))+1}(c,Math.max(Math.abs(n),Math.abs(t))))||(e.precision=a-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(a=function(n){return Math.max(0,-u(Math.abs(n)))}(c))||(e.precision=a-2*("%"===e.type))}return f(e)}function E(n){var t=n.domain;return n.ticks=function(n){var r=t();return function(n,t,r){if(!((r=+r)>0))return[];if((n=+n)===(t=+t))return[n];const e=t<n,[a,u,o]=e?w(t,n,r):w(n,t,r);if(!(u>=a))return[];const i=u-a+1,f=new Array(i);if(e)if(o<0)for(let c=0;c<i;++c)f[c]=(u-c)/-o;else for(let c=0;c<i;++c)f[c]=(u-c)*o;else if(o<0)for(let c=0;c<i;++c)f[c]=(a+c)/-o;else for(let c=0;c<i;++c)f[c]=(a+c)*o;return f}(r[0],r[r.length-1],null==n?10:n)},n.tickFormat=function(n,r){var e=t();return C(e[0],e[e.length-1],null==n?10:n,r)},n.nice=function(r){null==r&&(r=10);var e,a,u=t(),o=0,i=u.length-1,f=u[o],c=u[i],l=10;for(c<f&&(a=f,f=c,c=a,a=o,o=i,i=a);l-- >0;){if((a=b(f,c,r))===e)return u[o]=f,u[i]=c,t(u);if(a>0)f=Math.floor(f/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;f=Math.ceil(f*a)/a,c=Math.floor(c*a)/a}e=a}return n},n}function G(){var n=z();return n.copy=function(){return T(n,G())},c.apply(n,arguments),E(n)}export{h as a,d as i,z as n,T as r,G as t};