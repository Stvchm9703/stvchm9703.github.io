import{t as r,a as s,d as a}from"./B5aJA00E.js";import{p as e,c as t,s as i,r as o,t as c,a as l,f as d,E as n,af as g}from"./BW5koCBL.js";import{e as m,c as f}from"./CpoJfXHF.js";import{p as h,i as p}from"./DQ5ptN24.js";import{s as A,c as u,a as v,e as w,i as y}from"./93JtA4XB.js";import{i as L}from"./qTBZObi2.js";import{s as b}from"./DReNGWqb.js";import{b as j}from"./DUZjMIVQ.js";import{b as E}from"./CUMUN4Cd.js";import{o as x}from"./ByynunJz.js";let I;let $,q;"undefined"!=typeof window&&(I="loading"in HTMLImageElement.prototype,I||new IntersectionObserver(((r,s)=>{r.forEach((({isIntersecting:r,target:a})=>{var e;r&&((e=a).src=e.dataset.src,e.srcset=e.dataset.srcset,e.dataset.loaded=!0,s.unobserve(a))}))}),{rootMargin:"200px 200px"}));const z=r=>{const s=r.querySelector("img");s.src=s.dataset.src;r.querySelectorAll("source").forEach((r=>r.srcset=r.dataset.srcset)),r.dataset.loaded=!0};"undefined"!=typeof window&&($="loading"in HTMLImageElement.prototype,$||(q=new IntersectionObserver(((r,s)=>{r.forEach((({isIntersecting:r,target:a})=>{r&&(z(a),s.unobserve(a))}))}),{rootMargin:"200px 200px"})));var M=r('<picture data-loaded="false"><!> <img></picture>');var k=r('<link rel="preload" as="image" imagesizes="100vw">'),B=r("<source>"),J=r("<div></div>");function O(r,I){e(I,!0);const O=g((()=>I.srcList&&Array.isArray(I.srcList)?(I.srcList.filter((r=>"webp"==r.format)).length>0?I.srcList.filter((r=>"webp"==r.format)):I.srcList).sort(((r,s)=>r.width-s.width))[0]:I.srcList?I.srcList:null)),S=g((()=>(I.srcList&&Array.isArray(I.srcList)?I.srcList.sort(((r,s)=>r.width-s.width)):I.srcList?[I.srcList]:[]).map((r=>({...r,media:`(min-width: ${r.width+1}px)`})))));var U=a();f((r=>{var e=a(),t=d(e),i=r=>{var a=k();c(((r,s)=>{v(a,"href",n(O).src),v(a,"imagesrcset",r),v(a,"data-srcset",s),v(a,"data-image-prefetch-ref",I.alt)}),[()=>n(S).map((r=>`${r.src} ${r.width}w`)).join(", "),()=>n(S).map((r=>r.src)).join(", ")]),s(r,a)};p(t,(r=>{n(O)&&I.forceLoad&&r(i)})),s(r,e)}));var H=d(U),R=r=>{const f=g((()=>I.forceLoad?"eager":"lazy"));!function(r,a){e(a,!1);let d=h(a,"loading",8,"lazy"),n=h(a,"alt",8,""),g=h(a,"placeholder",8,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8+fOvJAAI7AMKHxaZiQAAAABJRU5ErkJggg=="),f=h(a,"src",24,g),p=h(a,"draggable",8,!0),w=h(a,"decoding",8,"async"),y=h(a,"classes",8,""),I=h(a,"width",8,"100%"),k=h(a,"height",8,"100%"),B=h(a,"el",12,void 0);x((()=>{$?z(B()):q&&"lazy"===d()&&q.observe(B())})),L();var J=M(),O=t(J);b(O,a,"default",{},null);var S=i(O,2);o(J),j(J,(r=>B(r)),(()=>B())),c((()=>{A(J,1,u(y()),"svelte-1quqpl1"),v(S,"src","lazy"===d()?g():f()),v(S,"alt",n()),v(S,"height",k()),v(S,"width",I()),v(S,"loading",d()),v(S,"decoding",w()),v(S,"draggable",p()),v(S,"data-src",f())})),m("load",S,(function(r){E.call(this,a,r)})),s(r,J),l()}(r,{get classes(){return`children:h-full children:w-full children:object-cover ${I.class??""}`},get loading(){return n(f)},get alt(){return I.alt},get height(){return I.height},get width(){return I.width},children:(r,e)=>{var t=a(),i=d(t);w(i,17,(()=>n(S)),y,((r,a)=>{var e=B();c((()=>{v(e,"data-srcset",n(a).src),v(e,"media",n(a).media),v(e,"type",`image/${n(a).format??""}`)})),s(r,e)})),s(r,t)},$$slots:{default:!0}})},K=r=>{var a=J();c((()=>A(a,1,`bg-dark-100 children:h-full children:w-full children:object-cover ${I.class??""}`))),s(r,a)};p(H,(r=>{n(O)?r(R):r(K,!1)})),s(r,U),l()}export{O as I};