import{t as r,a,c as e}from"./BJHdPT1q.js";import{p as s,c as t,s as i,r as o,t as c,a as l,f as d,Q as n,a5 as g}from"./-SC0CEt4.js";import{h as m}from"./DW4emAOI.js";import{p as f,b as h,i as p}from"./B5VWn1Vn.js";import{b as A,a as u,c as v,s as w,d as b,e as y,i as L}from"./BS0UlwuX.js";import{i as j}from"./DTGXspWT.js";import{e as E}from"./CtC3YBSP.js";import{o as I}from"./mXzcx41K.js";let $;let x,z;"undefined"!=typeof window&&($="loading"in HTMLImageElement.prototype,$||new IntersectionObserver(((r,a)=>{r.forEach((({isIntersecting:r,target:e})=>{var s;r&&((s=e).src=s.dataset.src,s.srcset=s.dataset.srcset,s.dataset.loaded=!0,a.unobserve(e))}))}),{rootMargin:"200px 200px"}));const M=r=>{const a=r.querySelector("img");a.src=a.dataset.src;r.querySelectorAll("source").forEach((r=>r.srcset=r.dataset.srcset)),r.dataset.loaded=!0};"undefined"!=typeof window&&(x="loading"in HTMLImageElement.prototype,x||(z=new IntersectionObserver(((r,a)=>{r.forEach((({isIntersecting:r,target:e})=>{r&&(M(e),a.unobserve(e))}))}),{rootMargin:"200px 200px"})));var q=r('<picture data-loaded="false"><!> <img></picture>');var J=r('<link rel="preload" as="image" imagesizes="100vw">'),O=r("<source>"),S=r("<div></div>");function U(r,$){s($,!0);const U=g((()=>$.srcList&&Array.isArray($.srcList)?($.srcList.filter((r=>"webp"==r.format)).length>0?$.srcList.filter((r=>"webp"==r.format)):$.srcList).sort(((r,a)=>r.width-a.width))[0]:$.srcList?$.srcList:null)),k=g((()=>($.srcList&&Array.isArray($.srcList)?$.srcList.sort(((r,a)=>r.width-a.width)):$.srcList?[$.srcList]:[]).map((r=>({...r,media:`(min-width: ${r.width+1}px)`})))));var B=e();m((r=>{var s=e(),t=d(s),i=r=>{var e=J();c(((r,a)=>{w(e,"href",n(U).src),w(e,"imagesrcset",r),w(e,"data-srcset",a),w(e,"data-image-prefetch-ref",$.alt)}),[()=>n(k).map((r=>`${r.src} ${r.width}w`)).join(", "),()=>n(k).map((r=>r.src)).join(", ")]),a(r,e)};p(t,(r=>{n(U)&&$.forceLoad&&r(i)})),a(r,s)}));var H=d(B),Q=r=>{const m=g((()=>$.forceLoad?"eager":"lazy"));!function(r,e){s(e,!1);let d=f(e,"loading",8,"lazy"),n=f(e,"alt",8,""),g=f(e,"placeholder",8,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8+fOvJAAI7AMKHxaZiQAAAABJRU5ErkJggg=="),m=f(e,"src",24,g),p=f(e,"draggable",8,!0),y=f(e,"decoding",8,"async"),L=f(e,"classes",8,""),$=f(e,"width",8,"100%"),J=f(e,"height",8,"100%"),O=f(e,"el",12,void 0);I((()=>{x?M(O()):z&&"lazy"===d()&&z.observe(O())})),j();var S=q(),U=t(S);A(U,e,"default",{},null);var k=i(U,2);o(S),h(S,(r=>O(r)),(()=>O())),c((()=>{u(S,1,v(L()),"svelte-1quqpl1"),w(k,"src","lazy"===d()?g():m()),w(k,"alt",n()),w(k,"height",J()),w(k,"width",$()),w(k,"loading",d()),w(k,"decoding",y()),w(k,"draggable",p()),w(k,"data-src",m())})),E("load",k,(function(r){b.call(this,e,r)})),a(r,S),l()}(r,{get classes(){return`children:h-full children:w-full children:object-cover ${$.class??""}`},get loading(){return n(m)},get alt(){return $.alt},get height(){return $.height},get width(){return $.width},children:(r,s)=>{var t=e(),i=d(t);y(i,17,(()=>n(k)),L,((r,e)=>{var s=O();c((()=>{w(s,"data-srcset",n(e).src),w(s,"media",n(e).media),w(s,"type",`image/${n(e).format??""}`)})),a(r,s)})),a(r,t)},$$slots:{default:!0}})},R=r=>{var e=S();c((()=>u(e,1,`bg-dark-100 children:h-full children:w-full children:object-cover ${$.class??""}`))),a(r,e)};p(H,(r=>{n(U)?r(Q):r(R,!1)})),a(r,B),l()}export{U as I};